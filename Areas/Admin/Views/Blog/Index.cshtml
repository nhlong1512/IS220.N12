
@model PagedList.IPagedList<Model.EF.Blog>
@using PagedList.Mvc;

@section breadcrumb {
    <div class="container-fluid">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb my-0 ms-2">
                <li class="breadcrumb-item">
                    <!-- if breadcrumb is single-->
                    <span>Blog</span>
                </li>
                <li class="breadcrumb-item active"><span>Danh sách Blog</span></li>
            </ol>
        </nav>
    </div>
}

<style>
</style>

@{
    ViewBag.Title = "MoriiCoffee";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    var blogs = ViewBag.blogs;
    var nguoidung = ViewBag.nguoidung;
}
@*<link href="~/Assets/Client/css/main.css" rel="stylesheet" />
<link href="~/Assets/Client/css/custom-profiledropdown.css" rel="stylesheet" />
<link href="~/Assets/Client/css/style-starter.css" rel="stylesheet" />*@
<style>
    .pagination li a {
        position: relative;
        display: block;
        padding: var(--cui-pagination-padding-y) var(--cui-pagination-padding-x);
        font-size: var(--cui-pagination-font-size);
        color: var(--cui-pagination-color);
        text-decoration: none;
        background-color: var(--cui-pagination-bg);
        border: var(--cui-pagination-border-width) solid var(--cui-pagination-border-color);
        transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    .pagination {
        --cui-pagination-padding-x: 0.75rem;
        --cui-pagination-padding-y: 0.375rem;
        --cui-pagination-font-size: 1rem;
        --cui-pagination-color: var(--cui-link-color);
        --cui-pagination-bg: #fff;
        --cui-pagination-border-width: 1px;
        --cui-pagination-border-color: #c4c9d0;
        --cui-pagination-border-radius: 0.375rem;
        --cui-pagination-hover-color: var(--cui-link-hover-color);
        --cui-pagination-hover-bg: #d8dbe0;
        --cui-pagination-hover-border-color: #c4c9d0;
        --cui-pagination-focus-color: var(--cui-link-hover-color);
        --cui-pagination-focus-bg: #d8dbe0;
        --cui-pagination-focus-box-shadow: 0 0 0 0.25rem rgba(50, 31, 219, 0.25);
        --cui-pagination-active-color: rgba(255, 255, 255, 0.87);
        --cui-pagination-active-bg: #321fdb;
        --cui-pagination-active-border-color: #321fdb;
        --cui-pagination-disabled-color: #8a93a2;
        --cui-pagination-disabled-bg: #fff;
        --cui-pagination-disabled-border-color: #c4c9d0;
        display: flex;
        list-style: none;
        border-radius: 5px;
    }

    .active > a {
        z-index: 3;
        color: var(--cui-pagination-active-color) !important;
        background-color: var(--cui-pagination-active-bg) !important;
        border-color: var(--cui-pagination-active-border-color) !important;
    }

    .PagedList-skipToPrevious{

    }

</style>


<div class="tab-content rounded-bottom">
    <div class="tab-pane p-3 active preview" role="tabpanel" id="preview-907">
        <a href="~/Admin/Blog/Create">
            <button class="btn btn-success" style="margin-bottom:20px; padding: 10px; font-size:16px;" type="button">
                Thêm mới Blog
            </button>

        </a>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">STT</th>
                    <th scope="col"></th>
                    <th scope="col">Tiêu đề</th>
                    <th scope="col">Tác giả</th>
                    <th scope="col">Ngày đăng</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                @{
                    var i = 0;
                    foreach (var blog in Model)
                    {
                        ++i;
                        <tr id="row+@blog.ID">
                            <th scope="row">@i</th>
                            <td><img src=@blog.UrlImage width="80" height="80" /></td>
                            <td>

                                @blog.TieuDe
                            </td>
                            <td>@nguoidung.HoTen</td>
                            <td>@blog.CreatedDate</td>
                            @*<td>@Html.Raw(blog.NoiDung)</td>*@
                            <td>
                                <a style="cursor: pointer; text-decoration: none;" href="~/Admin/Blog/Details/@blog.ID">
                                    <button class="btn btn-info" type="button">Xem chi tiết</button>
                                </a>
                                <a style="cursor: pointer; text-decoration: none;" href="~/Admin/Blog/Update/@blog.ID">
                                    <button class="btn btn-success" type="button">Sửa</button>
                                </a>
                                <a style="cursor: pointer; text-decoration: none;"
                                   onclick="if (confirm('Bạn có chắc muốn xóa không')) { location.href='/Admin/Blog/Delete/@blog.ID' }">
                                    <button class="btn btn-danger" type="button">Xóa</button>
                                </a>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <section class="panel">
            <div class="panel-body">
                <div class="pull-right">
                    <br />
                    @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
                </div>
            </div>
        </section>
    </div>

</div>

<script>
    $(document).ready(function () {
        $(".PagedList-skipToNext > a").text("Next");
        $(".PagedList-skipToPrevious > a").text("Previous")
        console.log($(".pagination > .active > a").text())
        //Xử lý nếu trang đang ở 1 thì sẽ disabled nút previous
    });
</script>

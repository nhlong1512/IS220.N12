
@model PagedList.IPagedList<Model.EF.ChiTietSanPham>
@using PagedList.Mvc;

@section breadcrumb {
    <div class="container-fluid">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb my-0 ms-2">
                <li class="breadcrumb-item">
                    <!-- if breadcrumb is single-->
                    <span>Sản phẩm</span>
                </li>
                <li class="breadcrumb-item active"><span>Danh sách Sản phẩm</span></li>
            </ol>
        </nav>
    </div>
}

<style>
</style>

@{
    ViewBag.Title = "MoriiCoffee";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    var sanphams = ViewBag.sanphams;
    var nguoidung = ViewBag.nguoidung;
}
@*<link href="~/Assets/Client/css/main.css" rel="stylesheet" />
    <link href="~/Assets/Client/css/custom-profiledropdown.css" rel="stylesheet" />
    <link href="~/Assets/Client/css/style-starter.css" rel="stylesheet" />*@



<div class="tab-content rounded-bottom">
    <div class="tab-pane p-3 active preview" role="tabpanel" id="preview-907">
        <a href="~/Admin/sanpham/Create">
            <button class="btn btn-success" style="margin-bottom:20px; padding: 10px; font-size:16px;" type="button">
                Thêm mới Sản phẩm
            </button>
        </a>
        @*Search*@
        <div class="panel-body">
            @using (Html.BeginForm("Index", "sanpham", FormMethod.Get))
            {
                <div class="col-md-4" style="display: flex; gap: 10px; white-space: nowrap; margin-bottom: 20px;">
                    <input value="@ViewBag.SearchString" name="searchString" class="form-control" id="exampleDataList" list="datalistOptions" placeholder="Nhập nội dung tìm kiếm...">
                    <button class="btn btn-secondary" type="submit">Tìm kiếm</button>
                </div>
            }
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col" colspan="2" style="text-align: center;" >Sản phẩm</th>
                    <th scope="col">Phân loại</th>
                    <th scope="col">Ngày đăng</th>
                    <th scope="col">Giá</th>
                    <th scope="col">Số lượng</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @{
                    foreach (var sanpham in Model)
                    {
                        <tr id="row+@sanpham.ID">
                            <td width="80"><img src=@sanpham.UrlImage width="80" height="80" /></td>
                            <td>
                                @sanpham.TenSanPham
                            </td>
                            <td>Phân loại</td>
                            <td>@sanpham.CreatedDate</td>
                            <td>@sanpham.Gia</td>
                            <td>Số lượng</td>
                            @*<td>@Html.Raw(sanpham.NoiDung)</td>*@
                            <td>
                                <a style="cursor: pointer; text-decoration: none;" href="~/Admin/sanpham/Details/@sanpham.ID">
                                    <button class="btn btn-info" type="button">Xem chi tiết</button>
                                </a>
                                <a style="cursor: pointer; text-decoration: none;" href="~/Admin/sanpham/Update/@sanpham.ID">
                                    <button class="btn btn-success" type="button">Sửa</button>
                                </a>
                                <a style="cursor: pointer; text-decoration: none;"
                                   onclick="if (confirm('Bạn có chắc muốn xóa không')) { location.href='/Admin/sanpham/Delete/@sanpham.ID' }">
                                    <button class="btn btn-danger" type="button">Xóa</button>
                                </a>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <section class="panel">
            <div class="panel-body">
                <div class="pull-right">
                    <br />
                    @Html.PagedListPager(Model, page => Url.Action("Index", new { page, @searchString = @ViewBag.SearchString }))
                </div>
            </div>
        </section>
    </div>

</div>

<style>
    td {
        vertical-align: initial;
    }

    .pagination li a {
        position: relative;
        display: block;
        padding: var(--cui-pagination-padding-y) var(--cui-pagination-padding-x);
        font-size: var(--cui-pagination-font-size);
        color: black;
        text-decoration: none;
        background-color: var(--cui-pagination-bg);
        border: var(--cui-pagination-border-width) solid var(--cui-pagination-border-color);
        transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    .pagination li :hover {
        background-color: #2eb85c;
        color: white;
    }

    .pagination {
        --cui-pagination-padding-x: 0.75rem;
        --cui-pagination-padding-y: 0.375rem;
        --cui-pagination-font-size: 1rem;
        --cui-pagination-color: var(--cui-link-color);
        --cui-pagination-bg: #fff;
        --cui-pagination-border-width: 1px;
        --cui-pagination-border-color: #c4c9d0;
        --cui-pagination-border-radius: 0.375rem;
        --cui-pagination-hover-color: var(--cui-link-hover-color);
        --cui-pagination-hover-bg: #d8dbe0;
        --cui-pagination-hover-border-color: #c4c9d0;
        --cui-pagination-focus-color: var(--cui-link-hover-color);
        --cui-pagination-focus-bg: #d8dbe0;
        --cui-pagination-focus-box-shadow: 0 0 0 0.25rem rgba(50, 31, 219, 0.25);
        --cui-pagination-active-color: rgba(255, 255, 255, 0.87);
        --cui-pagination-active-bg: #321fdb;
        --cui-pagination-active-border-color: #321fdb;
        --cui-pagination-disabled-color: #8a93a2;
        --cui-pagination-disabled-bg: #fff;
        --cui-pagination-disabled-border-color: #c4c9d0;
        display: flex;
        list-style: none;
        border-radius: 5px;
    }

    .active > a {
        z-index: 3;
        color: var(--cui-pagination-active-color) !important;
        background-color: #2eb85c !important;
        border-color: #2eb85c !important;
    }
</style>

<script>
    $(document).ready(function () {
        $(".PagedList-skipToNext > a").text("Sau");
        $(".PagedList-skipToPrevious > a").text("Trước")
        console.log($(".pagination > .active > a").text())
        //Xử lý nếu trang đang ở 1 thì sẽ disabled nút previous
    });
</script>

